/*! zengxiao版权所有，翻版必究 */!function(e){var l={};function t(n){if(l[n])return l[n].exports;var r=l[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=l,t.d=function(e,l,n){t.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,l){if(1&l&&(e=t(e)),8&l)return e;if(4&l&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&l&&"string"!=typeof e)for(var r in e)t.d(n,r,function(l){return e[l]}.bind(null,r));return n},t.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(l,"a",l),l},t.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},t.p="./",t(t.s=34)}({0:function(e,l){e.exports=path},1:function(e,l){e.exports=fs},15:function(e,l){e.exports=classTools},3:function(e,l){e.exports=conf},34:function(e,l,t){const{mock:n,rest:r,tmppath:o}=t(3),{mockData:u,analyApi:s}=t(35),{join:i,sep:c}=t(0),f=t(1),p=t(37),a=t(15),y=i(o,"/api"),d={};const b=Object.keys(r),m={};b.forEach(e=>{m[i(y,c+e.replace(/\./g,c))]={reg:null==r[e]?/[\s\S]*/:new RegExp(`(^${("string"==typeof r[e]?[r[e]]:r[e]).join("$)|(^")}$)`.replace(/\{/g,"\\{").replace(/\}/g,"\\}"),"i"),dist:i(n.dist,c+"data"+c+e.replace(/\./g,c)+".json")},function(e){if(d[e])return;if(f.existsSync(e))return void(d[e]=!0);const l=e.split(c);let t;for(t=l.length-1;t>0&&!f.existsSync(l.slice(0,t).join(c));t--);for(let e=t+1;e<=l.length;e++)f.mkdirSync(l.slice(0,e).join(c));d[e]=!0}(i(n.dist,c+"data"+c+e.replace(/\.[^.]+$/,"").replace(/\./g,c)))}),function(){let e=!0;Object.keys(m).forEach(l=>{const t=a(l);let n=["["],r=0;e=!0,t.forEach(t=>{if(!m[l].reg.test(t.url))return;const[o,i]=s("result",t.result,p,t.url,!0,0,1);e&&(e=i),e&&(n.push((r>0?",":"")+JSON.stringify({url:t.url,result:u(o).result,method:t.action},null,2)),r++)}),e&&f.writeFileSync(m[l].dist,n.join("")+"]")}),f.writeFile(i(n.dist,c+"mock.conf.js"),`module.exports=${JSON.stringify(p,null,2)}`,l=>{l?console.error("重置Mock对应的fields失败"):e?console.info("mock数据生成完成"):console.info("请更新mock的配置信息,将其中的null定义成对应的类型")})}()},35:function(e,l,t){const n=t(36);e.exports.analyApi=function e(l,t,r,o,u,s,i){let c,f={},p=!0;if(s=(s||0)+1,i=i||1,"object"==t.type)null==r.urls[o]||null==r.urls[o][l]||0==r.urls[o][l].length||null==r.urls[o][l][0]?(r.urls[o]=r.urls[o]||{},r.urls[o][l]=[null],console.info(`未配置url(${o})：Map中${l}有哪些项,请配置好后重新生成`),p=!1):(f[l]={},r.urls[o][l].forEach(n=>{c=e(n,t.value,r,o,s<=i,s,i),f[l][n+"|1"]=c[0],p&&(p=c[1])}));else if("array"==t.type)"string"==t.value.type||"number"==t.value.type||"boolean"==t.value.type?u&&null==r.fields[l]?null==r.urls[o]||null==r.urls[o][l]?(r.urls[o]=r.urls[o]||{},r.urls[o][l]=[null],console.info(`未配置url(${o})：Map中${l}有哪些项,请配置好后重新生成`),p=!1):f[l+"|1-15"]=r.urls[o][l]:null==r.fields[l]?(r.fields[l]=null,console.info(`未配置fields(${l})：请配置好后重新生成`),p=!1):f[l+"|1-15"]=r.fields[l]:(c=e(l,t.value,r,o,s<=i,s,i),p&&(p=c[1]),f[l+"|1-15"]=[c[0]]);else if("string"==typeof t.type)u&&null==r.fields[l]?null==r.urls[o]||null==r.urls[o][l]?(r.urls[o]=r.urls[o]||{},r.urls[o][l]=[null],console.info(`未配置url(${o})：Map中${l}有哪些项,请配置好后重新生成`),p=!1):"number"==t.type?f[l+"|"+r.urls[o][l]]=1:f[l+"|1"]=r.urls[o][l]:null==r.fields[l]?(r.fields[l]=null,console.info(`未配置fields(${l})：请配置好后重新生成`),p=!1):"number"==t.type?f[l+"|"+r.fields[l]]=1:f[l+"|1"]=r.fields[l];else if(null==t.type.type||"object"!=t.type.type&&"array"!=t.type.type)f[l]={},Object.keys(t.type).forEach(n=>{c=e(n,t.type[n],r,o,s<=i,s,i),p&&(p=c[1]),f[l]={...f[l],...c[0]}});else if(c=e(l,t.type.value,r,o,u,s-1,i),p&&(p=c[1]),"object"==t.type.type)f=c[0];else if("number"==typeof Object.values(c[0])[0]){let e=[];n.mock({"list|1-15":[c[0]]}).list.forEach(t=>{e.push(t[l])}),f[l]=e}else f[l+"|1-15"]=[c[0][l]];return[f,p]},e.exports.mockData=function(e){return n.mock(e)}},36:function(e,l){e.exports=mockjs},37:function(e,l){e.exports=mockCfg}});